<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Srcset | viewport ???</title>
<link rel="stylesheet" type="text/css" href="../../style/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="../../style/css/docs.min.css">
</head>
<body>
	<div>
		<img id="js-srcset" sizes="100vw" srcset="images/tree-320.jpg 320w, images/tree-400.jpg 400w, images/tree-800.jpg 800w, images/tree-1200.jpg 1200w, images/tree-1600.jpg 1600w, images/tree-2000.jpg 2000w, images/tree-2600.jpg 2600w" src="images/tree-320.jpg">
	</div>
	<div class="container">
		<div class="bs-callout bs-callout-danger">
			<ul class="text-danger">
				<li>此种情况 sizes="100vw"，用户代理为每一张图片计算有效的像素密度（物理像素密度），这些图片来自 w descriptors 和 sizes 属性中的渲染大小指定。对于已给定的资源选择依赖于用户屏幕的物理像素密度，缩放级别或者其他的因素，比如用户网络条件。</li>
				<li>
					<p>基于上面的banner例子，如果用户的屏幕是 320 css pixel宽度 <strong>（此时很好理解 content="width=device-width" ，页面文档宽度等于设备物理宽度，注意不是设备物理像素宽度，文档宽度等于设备物理宽度就意味着确定一个css像素对应几个设备物理像素）</strong>，这就相当于指定 tree-320.jpg 1x, tree-400.jpg 1.25, tree-800.jpg 2.5x, tree-1200.jpg 3.75x, tree-1600 5x, tree-2000.jpg 6.25x, tree-2600.jpg 8.125x。如果用户的屏幕是 1200 css pixel宽度时，就相当于指定 tree-320.jpg 0.27x, tree-400.jpg 0.33x, tree-800.jpg 0.67x, tree-1200.jpg 1x, tree-1600 1.33x, tree-2000.jpg 1.67x, tree-2600.jpg 2.17x。</p>
					<div class="bs-example">
						<div class="panel panel-default">
							<div class="panel-heading">基于以上第二点进行数学公式推算：</div>
								<table class="table">
									<thead>
										<tr>
											<th>屏幕宽（css像素）</th>
											<th>图片大小</th>
											<th>w descriptor 值</th>
											<th>device pixel ratio</th>
										</tr>
									</thead>
									<tbody>
									<tr>
										<th>320 css pixel</th>
										<td>320</td>
										<td>320</td>
										<td>320</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</li>
			</ul>
		</div>
		<div class="bs-callout bs-callout-info">
			<h4>所用到的属性：srcset sizes，此时：</h4>
			<p>
				<strong>srcset</strong>: 相当于一个资源库
			</p>
			<p>
				<strong>sizes</strong>:
			</p>
			<ul>
				<li>
					当<strong>sizes</strong>设为100vw时，此时图片的渲染尺寸<strong>（物理像素尺寸）</strong>，因为无论浏览器的缩放大小<strong>（不是浏览器大小）</strong>如何，我们看到的图片大小是不变的。
				</li>
			</ul>
			<h4>所用到的单位：w vw</h4>
			<ul>
				<li>
					<strong>w</strong>：描述器，和device-pixel-ratio有关
				</li>
				<li>
					<strong>vw</strong>：单位，相对浏览器可是窗口的计算单位。（pc机上chrome浏览器将滚动条的宽度也计算在内，此时设置100vw时，纵向内容过高导致的纵向滚动条出现，那么此时设置的100vw将导致横向滚动条的出现）
				</li>
			</ul>
		</div>
		<div class="bs-callout bs-callout-danger">
			<ul class="text-danger">
				<li>Note: 当缩小放大浏览器时，图片的显示区域并不变化，因为 <strong>vw</strong> 单位是以窗口可视区域的宽度进行计算，是一个类似百分比(%)的单位</li>
				<li>Note: 当缩放浏览器时，图片显示区域不因 device-pixel-ratio 的改变而改变，正是因为 <strong>vw</strong> 的关系，此时</li>
			</ul>
		</div>
	</div>
    <script type="text/javascript">
    	var imgUrls = "images/tree-320.jpg?" + Date.parse(new Date()) + " 320w,"
    				+ "images/tree-400.jpg?" + Date.parse(new Date()) + " 400w,"
    				+ "images/tree-800.jpg?" + Date.parse(new Date()) + " 800w"
    				+ "images/tree-1200.jpg?" + Date.parse(new Date()) + " 1200w,"
    				+ "images/tree-1600.jpg?" + Date.parse(new Date()) + " 1600w,"
    				+ "images/tree-2000.jpg?" + Date.parse(new Date()) + " 2000w,"
    				+ "images/tree-2600.jpg?" + Date.parse(new Date()) + " 2600w";
    	document.getElementById("js-srcset").srcset = imgUrls;
    </script>
</body>
</html>